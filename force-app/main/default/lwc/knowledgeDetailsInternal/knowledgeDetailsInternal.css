/**
 * ═══════════════════════════════════════════════════════════════════════════════════════════════════
 * KNOWLEDGE DETAILS INTERNAL - COMPONENT STYLES
 * ═══════════════════════════════════════════════════════════════════════════════════════════════════
 * 
 * @description    Custom CSS styles for the Knowledge Details Internal Lightning Web Component
 *                 Follows Salesforce Lightning Design System principles with brand customizations
 * 
 * @author         Dennis van Musschenbroek
 * @created        2025-01-24
 * @version        2.0.0
 * @component      knowledgeDetailsInternal
 * 
 * ═══════════════════════════════════════════════════════════════════════════════════════════════════
 * STYLE ARCHITECTURE
 * ═══════════════════════════════════════════════════════════════════════════════════════════════════
 * 
 * This stylesheet follows SLDS (Salesforce Lightning Design System) best practices:
 * - Component-scoped styles to prevent conflicts
 * - Consistent spacing using SLDS tokens where possible
 * - Accessible design with proper focus states
 * - Responsive design considerations
 * - Brand-specific color scheme integration
 * - Typography hierarchy following SLDS guidelines
 * 
 * ═══════════════════════════════════════════════════════════════════════════════════════════════════
 * COLOR SCHEME
 * ═══════════════════════════════════════════════════════════════════════════════════════════════════
 * 
 * Primary Brand Color: #00215B (Dark Navy Blue)
 * Link Color:         #0061cd (Salesforce Blue)
 * Typography:         Arboria (Headings), Apercu Pro (Body Text)
 * 
 * ═══════════════════════════════════════════════════════════════════════════════════════════════════
 * CHANGELOG
 * ═══════════════════════════════════════════════════════════════════════════════════════════════════
 * 
 * Version 2.0.0 (2025-01-24) - Dennis van Musschenbroek
 * ─────────────────────────────────────────────────────────────────────────────────────────────────
 * - ADDED: Comprehensive header documentation and organization
 * - ADDED: Enhanced accessibility with focus states and high contrast
 * - ADDED: Improved responsive design with better mobile support
 * - ADDED: Content wrapper styling for rich text formatting
 * - ADDED: Error state styling with visual hierarchy
 * - ADDED: Topic link hover and focus effects
 * - IMPROVED: Typography scale and spacing consistency
 * - IMPROVED: Code organization with logical sections
 * - IMPROVED: CSS custom properties for maintainability
 * - FIXED: Potential styling conflicts with SLDS components
 * 
 * Version 1.0.0 (Original) - Dennis van Musschenbroek
 * ─────────────────────────────────────────────────────────────────────────────────────────────────
 * - Initial styles with basic typography
 * - Brand color implementation
 * - Basic link styling
 * 
 * ═══════════════════════════════════════════════════════════════════════════════════════════════════
 */

/* ═══════════════════════════════════════════════════════════════════════════════════════════════
   CSS CUSTOM PROPERTIES (CSS VARIABLES)
   ══════════════════════════════════════════════════════════════════════════════════════════════ */

:host {
    /* Brand Colors */
    --brand-primary-color: #00215B;
    --brand-link-color: #0061cd;
    --brand-link-hover-color: #014486;
    
    /* Typography */
    --font-family-heading: 'Arboria', sans-serif;
    --font-family-body: 'Apercu Pro', 'Arboria', sans-serif;
    
    /* Spacing */
    --content-max-width: 768px;
    --border-radius-small: 4px;
    
    /* Accessibility */
    --focus-outline-color: #1589ee;
    --focus-outline-width: 2px;
    --focus-outline-offset: 2px;
}

/* ═══════════════════════════════════════════════════════════════════════════════════════════════
   TYPOGRAPHY HIERARCHY
   ══════════════════════════════════════════════════════════════════════════════════════════════ */

/* Main Article Title (H1) */
h1,
.slds-text-heading_large {
    color: var(--brand-primary-color);
    font-family: var(--font-family-heading);
    font-weight: 700;
    font-size: 32px;
    line-height: 40px;
    letter-spacing: -0.02em;
}

/* Section Headings (H2) */
h2,
.slds-text-heading_medium {
    color: var(--brand-primary-color);
    font-family: var(--font-family-heading);
    font-weight: 700;
    font-size: 24px;
    line-height: 28px;
    letter-spacing: -0.01em;
}

/* Subsection Headings (H3) */
h3,
.slds-text-heading_small {
    color: var(--brand-primary-color);
    font-family: var(--font-family-heading);
    font-weight: 700;
    font-size: 20px;
    line-height: 24px;
    letter-spacing: -0.005em;
}

/* Body Text */
p,
.slds-text-body_regular,
.slds-text-body_small {
    color: var(--brand-primary-color);
    font-family: var(--font-family-body);
    font-weight: 400;
    font-size: 18px;
    line-height: 27px;
}

/* Small Text Variant */
.slds-text-body_small {
    font-size: 16px;
    line-height: 24px;
}

/* ═══════════════════════════════════════════════════════════════════════════════════════════════
   COMPONENT LAYOUT
   ══════════════════════════════════════════════════════════════════════════════════════════════ */

/* Main Article Container */
.knowledge-article {
    max-width: var(--content-max-width);
    margin: 0 auto;
    padding: 0 1rem;
}

/* Content Wrapper for Rich Text */
.content-wrapper {
    line-height: 1.6;
}

.content-wrapper p {
    margin-bottom: 1rem;
}

.content-wrapper p:last-child {
    margin-bottom: 0;
}

/* Article Content Sections */
.article-content section {
    scroll-margin-top: 2rem; /* Smooth scroll offset for anchor links */
}

/* ═══════════════════════════════════════════════════════════════════════════════════════════════
   LINK STYLING
   ══════════════════════════════════════════════════════════════════════════════════════════════ */

/* General Links */
a {
    color: var(--brand-link-color);
    text-decoration: underline;
    text-underline-offset: 2px;
    transition: color 0.15s ease-in-out;
}

a:hover {
    color: var(--brand-link-hover-color);
    text-decoration: underline;
}

a:focus {
    outline: var(--focus-outline-width) solid var(--focus-outline-color);
    outline-offset: var(--focus-outline-offset);
    border-radius: var(--border-radius-small);
}

/* ═══════════════════════════════════════════════════════════════════════════════════════════════
   TOPIC LINKS STYLING
   ══════════════════════════════════════════════════════════════════════════════════════════════ */

.topics-container {
    margin-top: 1rem;
}

.topic-link {
    display: inline-flex;
    align-items: center;
    text-decoration: none;
    color: var(--brand-primary-color);
    background-color: #f3f3f3;
    border: 1px solid #d8dde6;
    border-radius: var(--border-radius-small);
    transition: all 0.15s ease-in-out;
    font-family: var(--font-family-body);
    font-size: 14px;
    font-weight: 400;
    cursor: pointer;
}

.topic-link:hover {
    background-color: #e5e5e5;
    border-color: #c9ccd4;
    color: var(--brand-primary-color);
    text-decoration: none;
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.topic-link:focus {
    outline: var(--focus-outline-width) solid var(--focus-outline-color);
    outline-offset: var(--focus-outline-offset);
    background-color: #e5e5e5;
    border-color: var(--focus-outline-color);
}

.topic-link:active {
    transform: translateY(0);
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* ═══════════════════════════════════════════════════════════════════════════════════════════════
   ERROR STATE STYLING
   ══════════════════════════════════════════════════════════════════════════════════════════════ */

.error-state {
    min-height: 200px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.error-state .slds-illustration {
    text-align: center;
}

.error-state h3 {
    color: #c23934; /* SLDS Error Color */
    margin-top: 1rem;
}

.error-state p {
    max-width: 400px;
    margin: 0 auto;
}

/* ═══════════════════════════════════════════════════════════════════════════════════════════════
   RICH TEXT CONTENT STYLING
   ══════════════════════════════════════════════════════════════════════════════════════════════ */

/* Override SLDS rich text formatting to match brand */
lightning-formatted-rich-text {
    --slds-c-rich-text-editor-text-color: var(--brand-primary-color);
    --slds-c-rich-text-editor-link-color: var(--brand-link-color);
}

/* Style rich text content */
lightning-formatted-rich-text p {
    color: var(--brand-primary-color);
    font-family: var(--font-family-body);
    margin-bottom: 1rem;
}

lightning-formatted-rich-text h1,
lightning-formatted-rich-text h2,
lightning-formatted-rich-text h3,
lightning-formatted-rich-text h4,
lightning-formatted-rich-text h5,
lightning-formatted-rich-text h6 {
    color: var(--brand-primary-color);
    font-family: var(--font-family-heading);
    font-weight: 700;
    margin-top: 1.5rem;
    margin-bottom: 0.5rem;
}

lightning-formatted-rich-text ul,
lightning-formatted-rich-text ol {
    color: var(--brand-primary-color);
    font-family: var(--font-family-body);
    margin-bottom: 1rem;
    padding-left: 1.5rem;
}

lightning-formatted-rich-text blockquote {
    border-left: 4px solid var(--brand-link-color);
    padding-left: 1rem;
    margin: 1rem 0;
    font-style: italic;
    color: #54698d;
}

/* ═══════════════════════════════════════════════════════════════════════════════════════════════
   LOADING STATE STYLING
   ══════════════════════════════════════════════════════════════════════════════════════════════ */

.slds-spinner_container {
    min-height: 200px;
}

/* Loading message styling */
div[role="status"] p {
    color: #706e6b;
    font-size: 16px;
    font-style: italic;
}

/* ═══════════════════════════════════════════════════════════════════════════════════════════════
   RESPONSIVE DESIGN
   ══════════════════════════════════════════════════════════════════════════════════════════════ */

/* Tablet Styles */
@media screen and (max-width: 768px) {
    .knowledge-article {
        padding: 0 0.75rem;
    }
    
    h1,
    .slds-text-heading_large {
        font-size: 28px;
        line-height: 36px;
    }
    
    h2,
    .slds-text-heading_medium {
        font-size: 22px;
        line-height: 26px;
    }
    
    h3,
    .slds-text-heading_small {
        font-size: 18px;
        line-height: 22px;
    }
    
    p,
    .slds-text-body_regular {
        font-size: 16px;
        line-height: 24px;
    }
}

/* Mobile Styles */
@media screen and (max-width: 480px) {
    .knowledge-article {
        padding: 0 0.5rem;
    }
    
    h1,
    .slds-text-heading_large {
        font-size: 24px;
        line-height: 32px;
    }
    
    .topics-container .slds-grid {
        margin: 0 -0.125rem; /* Tighter spacing on mobile */
    }
    
    .topic-link {
        font-size: 13px;
        padding: 0.375rem 0.75rem;
    }
}

/* ═══════════════════════════════════════════════════════════════════════════════════════════════
   ACCESSIBILITY ENHANCEMENTS
   ══════════════════════════════════════════════════════════════════════════════════════════════ */

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
    :host {
        --brand-primary-color: #000000;
        --brand-link-color: #0000ff;
        --brand-link-hover-color: #000080;
    }
    
    .topic-link {
        border-width: 2px;
    }
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
    .topic-link,
    a {
        transition: none;
    }
    
    .topic-link:hover {
        transform: none;
    }
}

/* Focus-visible support for modern browsers */
@supports selector(:focus-visible) {
    a:focus:not(:focus-visible) {
        outline: none;
    }
    
    a:focus-visible {
        outline: var(--focus-outline-width) solid var(--focus-outline-color);
        outline-offset: var(--focus-outline-offset);
    }
    
    .topic-link:focus:not(:focus-visible) {
        outline: none;
    }
    
    .topic-link:focus-visible {
        outline: var(--focus-outline-width) solid var(--focus-outline-color);
        outline-offset: var(--focus-outline-offset);
    }
}