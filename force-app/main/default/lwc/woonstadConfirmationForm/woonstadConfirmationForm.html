<!--
/*************************************************************************************************
 * Component       : WoonstadConfirmationForm (HTML Template)
 * Layer           : Presentation (LWC Template)
 * Purpose         : Renders the confirmation screen for customer/case data in Woonstad KC flows.
 *
 * Responsibilities:
 *  - Display Flow-provided and Apex-fetched customer details
 *  - Show validation warning when Name or Address is missing
 *  - Provide navigation buttons (Back, Bevestigen)
 *
 * Accessibility   : Supports semantic markup and role attributes for alerts.
 * Security        : Relies on JS/Apex for data integrity and CRUD/FLS enforcement.
 *
 * Owner           : Woonstad KC
 * Author          : Dennis van Musschenbroek
 * Created         : 2025-08-06
 * Last Modified   : 2025-08-25
 * ===============================================================================================
 * Change Log
 * ===============================================================================================
 * 2025-08-25 | DvM | Added error banner for missing Name/Address; standardized header.
 * 2025-08-06 | DvM | Initial creation for Flow confirmation screen.
 *************************************************************************************************/
-->
<template>
  <!-- Validation banner -->
  <template if:true={showValidationError}>
    <div class="ws-alert ws-alert--error" role="alert" data-id="validationBanner">
      <span class="ws-alert__title">Validatie</span>
      <p class="ws-alert__body">
        naam en adres kunnen niet leeg zijn controleer de klantenkaart op juistheid.
      </p>
    </div>
  </template>

  <div class="woonstad-form">
    <h2 class="form-title">Controleer de gegevens</h2>

    <div class="form-row">
      <span class="form-label">Naam op het naamplaatje</span>
      <template if:true={isNamePlateMissing}>
        <span class="form-warning">
          Geen input voor Naamplaatje â€” ga een stap terug en vul het veld alsnog in
        </span>
      </template>
      <template if:false={isNamePlateMissing}>
        <span class="form-value">{displayNamePlate}</span>
      </template>
    </div>

    <div class="form-row">
      <span class="form-label">Naam</span>
      <span class="form-value">{klantNaam}</span>
    </div>

    <div class="form-row">
      <span class="form-label">Adres</span>
      <div class="form-value" lwc:dom="manual" data-id="addressContainer"></div>
    </div>

    <div class="form-row">
      <span class="form-label">Reden / toelichting</span>
      <span class="form-value">{displayReason}</span>
    </div>

    <div class="form-row">
      <span class="form-label">Leverancier</span>
      <span class="form-value">{flowInputSupplierName}</span>
    </div>

    <div class="form-row">
      <span class="form-label">Contractpartij</span>
      <span class="form-value">{eigenaar}</span>
    </div>
  </div>
  
  <div class="nav-container">
    <div class="right-buttons">
      <a class="back-link" onclick={handleBack}>
        <svg class="arrow-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
          <path d="M7.82843 10.9999L13.1924 5.63589L11.7782 4.22168L4 11.9999L11.7782 19.778L13.1924 18.3638L7.82843 12.9999H20V10.9999H7.82843Z"></path>
        </svg>
        Terug
      </a>
      <button class="woonstad-svg-button" onclick={handleNext}>
        Bevestigen
        <span class="icon-wrapper">
          <svg class="arrow-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
            <path d="M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z"></path>
          </svg>
        </span>
      </button>
    </div>
  </div>
</template>