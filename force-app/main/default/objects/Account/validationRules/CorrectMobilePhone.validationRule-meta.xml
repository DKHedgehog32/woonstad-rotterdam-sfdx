<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>CorrectMobilePhone</fullName>
    <active>true</active>
    <description>Een eenvoudige controle op bestaanbaarheid van telefoonnummers in Nederland. Daarbij een foutmelding tonen als het nummer niet door de validatie komt. https://ict-woonstadrotterdam.atlassian.net/wiki/x/BQAuLQ</description>
    <errorConditionFormula>AND(
ISCHANGED(PersonMobilePhone),
NOT(
    OR(
        ISBLANK(PersonMobilePhone),
       
        AND(
            BEGINS(PersonMobilePhone, &quot;+&quot;),
            NOT(BEGINS(PersonMobilePhone, &quot;+0&quot;)),
            REGEX(PersonMobilePhone, &quot;^\\+?[1-9]{1}[0-9]*$&quot;)
        ),
      
        AND(
            OR(
                BEGINS(PersonMobilePhone, &quot;080&quot;),
                BEGINS(PersonMobilePhone, &quot;0900&quot;),
                BEGINS(PersonMobilePhone, &quot;0906&quot;),
                BEGINS(PersonMobilePhone, &quot;0909&quot;)
            ),
            OR(
                LEN(PersonMobilePhone) = 8,
                LEN(PersonMobilePhone) = 11
            ),
            NOT(LEN(PersonMobilePhone) = 10)
        ),
        
        AND(
            BEGINS(PersonMobilePhone, &quot;044&quot;),
            LEN(PersonMobilePhone) &gt;= 6,
            LEN(PersonMobilePhone) &lt;= 14
        ),
      
        AND(
            BEGINS(PersonMobilePhone, &quot;0&quot;),
            NOT(
                OR(
                    BEGINS(PersonMobilePhone, &quot;080&quot;),
                    BEGINS(PersonMobilePhone, &quot;0900&quot;),
                    BEGINS(PersonMobilePhone, &quot;0906&quot;),
                    BEGINS(PersonMobilePhone, &quot;0909&quot;),                    
                    BEGINS(PersonMobilePhone, &quot;044&quot;)
                )
            ),
            LEN(PersonMobilePhone) = 10
        ),
       
        AND(
            BEGINS(PersonMobilePhone, &quot;1&quot;),
            OR(
                LEN(PersonMobilePhone) = 3,
                LEN(PersonMobilePhone) = 4,
                LEN(PersonMobilePhone) = 5,
                LEN(PersonMobilePhone) = 6
            )
        ),
        
        REGEX(PersonMobilePhone, &quot;^[2-9]{1}[0-9]{2}[\\s.-]?[0-9]{3}[\\s.-]?[0-9]{4}$&quot;)
    )
)
)</errorConditionFormula>
    <errorDisplayField>PersonMobilePhone</errorDisplayField>
    <errorMessage>Validate if the phone number is entered correctly. Spaces, slashes and brackets are not allowed.</errorMessage>
</ValidationRule>
